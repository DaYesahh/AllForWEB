# Vuex

是专为`Vue.js`应用程序开发的**状态管理模式**。是集中式的存储管理应用的所有组件的状态，并以响应的规则保证状态以一种可预测的方式发生变化。

## 为什么使用它呢？

当应用比较庞大，多个组件需要共享状态的时候，可能产生多个组件共同依赖同一个状态，也会对同一个状态产生变更。可想而知，如果任由其发展的话，则会产生冲突，无法维护。

`Vuex`可以管理共享状态，并且附带了一些概念和框架，帮助我们使用。

## 组成部分

`Vuex`的核心概念是`Store`，它是一个仓库或者容器，包含着应用中的状态。

`Vuex`和普通全局对象的区别是：

- `Vuex`是**响应式**的，当`Vue`中的组件读取`store`中的状态的时候，如果该状态发生改变，vue中组件所读取的状态也会随之改变。
- `Vuex`不允许直接对状态进行改变，需要通过提交**mutations**来显示改变。而且`mutations`中必须是同步函数，这样是为了追踪到状态改变的路线。

### state

`State`是**单一状态树**，用一个对象来包含所有的应用层级，所以它作为唯一的数据源存在，每个应用也就只有唯一的`store`实例。单一状态树让我们能够直接的定位任一特定的状态片段。



### getter

因为`vuex`是响应式的，所以采用计算属性的`getter`来获取`state`。



### mutation

**提交mutation**是唯一改变`state`的途径，虽然也可以采用`action`来异步改变，但是这样是不推荐的。管理状态除了将状态提取出来，在`state`中初始好，还需要监控它的变化路线，也就是要随时监控到它任一时刻的状态。但是异步是没办法确认什么时候执行的。所以在`mutation`中同步改变。

`mutation`中包含**事件类型**和**回调函数**。而提交`mutation`的方式分为**载荷式提交**和**对象风格提交**。



### action

通过间接提交`mutation`来异步改变`state`。



### module

如果系统庞大，将所有的状态都放在一个`store`中，可以将`store`拆分，然后在全局`store`中引用。每个`module`都有独立的`state、getter、mutation、action`。默认是全局的，如果想要局部使用，则需要使用`namespaced:true`，使其成为带命名空间的模块。一旦被如此注册，则成为独立的局部的。




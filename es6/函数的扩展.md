# 函数的扩展

- 函数执行是先执行函数参数，再执行函数体
- 如果函数参数使用了解构赋值、设置默认值、扩展运算符则不可以在函数体内显式设定为严格模式，否则会报错

## 默认值

- 普通设置默认值
- 解构赋值设置默认值：其中给**解构赋值的属性设置默认值**和**给函数参数设置默认值**之间的区别。

```javascript
function m1({x = 0, y =0} = {}) {
    return [x,y];
}
function m2({x,y} = {x:0,y:0}) {
    return [x,y];
}
```



## length属性

```javascript
指定默认值以后，函数的length属性、函数参数的length将会失真。即如下：
let b = (function (a = 5) { // 注意这里
    console.log(arguments.length) // 注意这里是不会调用的，可能是以为圆括号的问题 
}).length
console.log(b)
// 0

function test (a = 5) { // 设置了默认值，但是如果在调用的时候采用test(10)给她传参是话，则结果是和下面test1一样，结果是因为下面是
	 console.log(arguments)
	 console.log(arguments.length)
}
test()
// [Arguments] {}
// 0

function test1 (a) { // 这没有设置默认值
	 console.log(arguments)
	 console.log(arguments.length)
}
test(10)  
// [Arguments] {'0':10}
// 1
```

函数的length属性是：***该函数预期传入的参数个数***。所以length的大小是看调用该函数时传入的参数个数，而不是单纯看函数自己参数默认值的设置。

## rest参数

```javascript
function add(...values) { // 采用...values接收所有参数
    let sum = 0;
    for(var val of values) {
        sum += val;
    }
    return sum;
}
add(2,5,3) // 10
```

```java
一、...values与arguments的区别：
1、...values是真正的数组，可以使用数组的所有方法
2、aruments是一个对象数组
```

- 注意点
  + rest参数之后不能有其他参数

## 箭头函数

- 箭头函数体内的```this```对象，是**函数定义时**所在的对象，而不是使用时所在的对象

- 不可作构造函数，不可以使用new命令
- 不可使用arguments对象，该对象在函数体内不存在，可以用rest参数代替
- 不可使用yield命令，箭头函数不能用作Generator函数

